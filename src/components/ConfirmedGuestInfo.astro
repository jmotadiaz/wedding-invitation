---
import type { Guest } from "@domain/Guest";
import ConfirmedGuest from "./ConfirmedGuest.astro";

export interface Props {
	guest: Guest;
}

const { guest } = Astro.props;
---

{guest.confirmed ? <ConfirmedGuest guest={guest} /> : <h3 class="text-xl mb-2 text-center w-full">Invitación cancelada</h3>}

{!!guest.allergies &&
    <div class="border-b-2 border-gray-200 w-1/3 mx-auto my-5"></div>
    <h4 class="font-semibold mb-1">Alergias o/y condición alimentaria</h4>
    <p class="text-sm">{guest.allergies}</p>
}

{!!guest.bus &&
    <div class="border-b-2 border-gray-200 w-1/3 mx-auto my-5"></div>
    <h4 class="font-semibold mb-1">Traslado</h4>
    <p class="text-sm">
      <span class="font-semibold mr-2">Parada:</span>
      {guest.busStop}
    </p>
    <p class="text-sm">
      <span class="font-semibold mr-2">Asientos:</span>
      {guest.busSeats}
    </p>
}

<button
    type="submit"
    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md w-full mt-5"
    hx-get={`/${guest.uuid}/api/edit-confirm`}
    hx-target="#confirm"
    hx-swap="innerHTML transition:true"
  >
  Editar confirmación
</button>
