---

import AccommodationFutureInfo from "@components/AccommodationFutureInfo.astro";
import WantAccommodationInfo from "@components/WantAccommodationInfo.astro";
import { getGuest, updateAccommodation } from "@domain/Guest";

export const partial = true;

const id = Astro.params.id ?? "";

if (Astro.request.method === "PATCH") {
	await updateAccommodation(id, true);
}

const guest = await getGuest(id);
---

{!!guest?.accommodation ? <AccommodationFutureInfo /> : guest && <WantAccommodationInfo guest={guest} />}
